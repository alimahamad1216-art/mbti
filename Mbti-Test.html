<!DOCTYPE html>
<html lang="ku">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MBTI Test â€” Mobile</title>
  <meta name="theme-color" content="#111" />
  <style>
    :root{
      --bg:#0f1115;--card:#171a21;--muted:#a7b0c0;--text:#e8edf5;--accent:#6ae3ff;--accent2:#a0ff8f;--danger:#ff6b6b;
      --radius:14px;--shadow:0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,#0e1014,#111622 40%,#0f121a);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Noto Sans",Tahoma,Arial,sans-serif;color:var(--text);-webkit-font-smoothing:antialiased}
    .wrap{max-width:760px;margin-inline:auto;padding:18px 16px 40px}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin:6px 0 14px}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:38px;height:38px;border-radius:12px;background:
      radial-gradient(60% 60% at 30% 30%, #6ae3ff, transparent 60%),
      radial-gradient(60% 60% at 70% 70%, #a0ff8f, transparent 60%),
      #101420; box-shadow:inset 0 0 0 1px #1f2430, var(--shadow)}
    .title{font-size:18px;font-weight:700;letter-spacing:.3px}
    .card{background:rgba(23,26,33,.78);backdrop-filter:saturate(130%) blur(8px);border:1px solid #242a36;border-radius:var(--radius);box-shadow:var(--shadow)}
    .intro{padding:14px 14px 10px}
    .intro p{margin:6px 0;color:var(--muted);line-height:1.5}
    .bar{height:10px;background:#1b2230;border-radius:999px;overflow:hidden;border:1px solid #232a38}
    .bar>span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .25s ease}
    .q{padding:14px;border-top:1px solid #242a36}
    .q h3{margin:0 0 8px;font-size:15px;line-height:1.4}
    .opts{display:grid;grid-template-columns:1fr;gap:8px}
    .opt{display:flex;align-items:center;gap:10px;padding:12px;border:1px solid #2a3242;border-radius:12px;background:#131722}
    .opt input{accent-color:#55e7ff;inline-size:18px;block-size:18px}
    .muted{color:var(--muted);font-size:13px}
    .footer{display:flex;gap:10px;padding:12px;border-top:1px solid #242a36;flex-wrap:wrap}
    button{appearance:none;border:0;border-radius:12px;padding:12px 14px;font-weight:700}
    .primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#051018}
    .ghost{background:transparent;color:var(--text);border:1px solid #2b3445}
    .danger{background:var(--danger);color:white}
    .grid{display:grid;gap:12px}
    .result{padding:16px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid #2a3242;background:#111827;font-size:12px;margin:4px 6px 0 0}
    .sc{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}
    .meter{background:#121722;border:1px solid #242b39;border-radius:10px;overflow:hidden}
    .meter b{display:flex;justify-content:space-between;padding:6px 10px;font-size:12px;color:var(--muted)}
    .meter span{display:block;height:8px;background:linear-gradient(90deg,var(--accent),var(--accent2))}
    .type-card{margin-top:10px;border:1px solid #2a3242;border-radius:12px;padding:12px;background:#131821}
    .small{font-size:12px;color:var(--muted)}
    @media (min-width:520px){
      .opts{grid-template-columns:1fr 1fr}
      .footer{justify-content:space-between}
    }
    a{color:#9fe7ff;text-decoration:none}
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="title">MBTI Quick Test</div>
        <div class="small">Ù¡Ù¦ Ù¾Ø±Ø³ â€“ Ù…Û†Ø¨Ø§ÛŒÙ„â€ŒÙØ±Û•Ù†Ø¯Ù„ÛŒ</div>
      </div>
    </div>
    <button class="ghost" id="btnShare" title="Share/Save">Share</button>
  </header>

  <section class="card intro" id="intro">
    <p>Ø¨Û• Ù‡Û•Ù…ÙˆÙˆ Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù† ÙˆÛ•ÚµØ§Ù… Ø¨Ø¯Û• (Ù¡Ù¦ Ø¯Ø§Ù†Û•). Ù„Û• Ú©Û†ØªØ§ÛŒÛŒØ¯Ø§ Ø¯Û•ØªØ¨ÛŒÙ†ÛŒØª Ù„Û• Ù†ÛÙˆØ§Ù† Ù‡Û•Ø± Ø¯ÙˆÙˆ Ø¯Û•Ø±ÙˆÙˆÙ†â€ŒÚ•Û•ÙˆÛŒ Ø¯ÛŒÚ©Û†ØªÛ†Ù…ÛŒÛŒÛ•Ú©Ø§Ù† Ú©Û•Ù…ÛÚ© Ú©Û•ÛŒ Ø¨Ø§Ø´ØªØ± Ø¯Û•Ú¯Ø±ÛØª: <b>E/I</b>ØŒ <b>S/N</b>ØŒ <b>T/F</b>ØŒ <b>J/P</b>.</p<div class="bar" aria-label="Progress"><span id="prog"></span></div>
  </section>

  <form class="card" id="form">
    <!-- Questions injected by JS -->
  </form>

  <section id="resultCard" class="card result" hidden>
    <h2 style="margin:0 0 6px">Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Û•Øª</h2>
    <div id="typeBadges" class="muted"></div>
    <div class="sc" id="scales"></div>
    <div class="type-card" id="typeCard"></div>
    <div class="footer">
      <button type="button" class="primary" id="again">Ø¯ÙˆØ¨Ø§Ø±Û• Ø¨Ú©Û•</button>
      <button type="button" class="ghost" id="reset">Ú•ÛØ³ØªÚ©Ø±Ø¯Ù†</button>
    </div>
  </section>

  <section class="card" style="margin-top:12px;padding:12px">
    <details>
      <summary>Ù†ÙˆØª: ØªÛØ³ØªÛŒ Ø®ÛØ±Ø§ Ùˆ ÙØ§Ù†â€ŒÙ€ÛŒÛ• (self-report)ØŒ Ù†Û• Ù„ÛÚ©Û†ÚµÛŒÙ†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ ÙÛ•Ø±Ù…ÛŒ.</summary>
      <p class="small">Ø¦Û•Ù… ØªÛØ³ØªÛ• ØªÛ•Ù†ÛŒØ§ Ø¨Û† Ø®Û†Ù†Ø§Ø³ÛŒÛŒÛ•Ú©ÛŒ Ø®Û†Ø´â€ŒÛ•ÙˆÛŒØ³ØªØ§Ù†Û• Ùˆ Ú©Û†Ù†ØªÛ•Ù†Øªâ€ŒÚ©Ø±Ø§ÙˆÛ•. Ù„Û•Ú¯Û•Úµ Ø¦Û•ÙˆÛ•Ø´Ø¯Ø§ØŒ Ú¯ÙˆÛ Ù„Û• Ú©Û†Ù†ØªÛÚ©Ø³ØªÛŒ Ú©Û•Ù„ØªÙˆÙˆØ±ÛŒ/Ø²Ù…Ø§Ù†ÛŒØ´ Ø¨Ú¯Ø±Û•.</p>
    </details>
  </section>

  <footer class="small" style="text-align:center;margin-top:14px;color:var(--muted)">
    Made for mobile â€¢ No tracking â€¢ Works offline
  </footer>
</div>

<script>
/* ======= DATA ======= */
const QUESTIONS = [
  // E vs I (4)
  { t:"Ù„Û• Ú©Ø§ØªÛÚ©Ø¯Ø§ Ø¦Ø§Ø±Ø§Ù…ÛŒ Ù¾ÛØª Ù¾ÛÙˆÛŒØ³ØªÛ•ØŒ Ø²ÛŒØ§ØªØ± ØªÙˆØ§Ù†Ø§Øª Ù„Û•Ú¯Û•Úµ Ø®Û•ÚµÚ© Ø¯Û•Ù‡ÛÙ†ÛØŸ ÛŒØ§Ù† ØªØ§Ú©Û•Øªâ€ŒØ¨Û•Ø³Û•Ø±Ø¯Ø§ØŸ", a:["E,Ø¨Û• Ø®Û•ÚµÚ©","I,ØªÛ•Ù†Ù‡Ø§"] },
  { t:"Ù„Û• Ù¾Ø§Ø±ØªÛŒØ¯Ø§ Ú†ÛŒ Ø¨Û• Ø¯Û•ÚµÛÙ†â€ŒØªØ±Û• Ø¨Û† ØªÛ†ØŸ", a:["E,Ù‚Ø³Ù‡â€ŒÚ©Ø±Ø¯Ù† Ùˆ Ù†Ø§Ø³ÛŒÙ†Û•ÙˆÛ•","I,Ú†Ø§ÙˆÚ¯ÛÚ•ÛŒ Ùˆ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒÛŒ Ú©Û•Ù…"] },
  { t:"Ù„Û• Ú©Ø§Ø±Ú©Ø±Ø¯Ù† Ù¾Ú• Ú•ÛÚ˜ÛŒÙ… Ø¯Û•ØªÛ•ÙˆÛØªØŸ", a:["E,ØªÛŒÙ… Ùˆ Ù‡Û•Ù†Ú¯Ø§ÙˆÛ• Ù‡Û•Ù†Ú¯Ø§Ùˆ","I,Ø³Û•Ø±Ø®Û†Ø´ Ùˆ Ø¨Û• Ù‡Û•ÚµØ³Û•Ù†Ú¯Ø§Ù†Ø¯Ù†"] },
  { t:"Ù„Û• Ú•Û†Ú˜Ø§Ù†ÛŒ Ø®Û†Ø± Caboose ğŸ˜„ Ú†ÛŒ Ø¯Û•Ú©Û•ÛŒØªØŸ", a:["E,Ø¯Û•ÚµÛÙ… Ø¨Û† Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ù¾Ù„Ø§Ù†ÛŒ Ú¯Ø´Øª","I,Ù„Û• Ù…Ø§ÚµÛ•ÙˆÛ• Ø´Ø§Ø±Û•Ø²Ø§ÛŒÛŒ Ø¯Û•Ú©Û•Ù…"] },
  // S vs N (4)
  { t:"Ú©Ø§ØªÛÚ© ÙÛŒÚ©Ø± Ø¯Û•Ú©Û•ÛŒØªØŒ Ø²ÛŒØ§ØªØ±...", a:["S,Ù„Û•Ø³Û•Ø± ÙˆØ±Ø¯Û•Ú©Ø§Ø±ÛŒ Ùˆ ÙØ§Ú©Øª","N,Ù„Û•Ø³Û•Ø± ÙˆÛÙ†Û•ÛŒ Ú¯Ø´ØªÛŒ Ùˆ Ø¨ÛŒØ±Û†Ú©Û•"] },
  { t:"Ù„Û• ÙÛØ±Ø¨ÙˆÙˆÙ†Ø¯Ø§ Ù¾ÛØª Ø®Û†Ø´Û•...", a:["S,Ù…Ø´Ù‚ Ùˆ Ù†Ù…ÙˆÙ†Û•ÛŒ ÙˆØ§Ù‚Ø¹ÛŒØ´","N,Ù…ÙÙ‡ÙˆÙ… Ùˆ Ù…ÛØ³ÚµÛŒ Ø®Û•ÛŒØ§ÚµÛŒ"] },
  { t:"Ú©Ø§ØªÛÚ© Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ ÙˆÛ•Ø± Ø¯Û•Ú¯Ø±ÛŒØªØŒ Ù¾ÛØª Ø¨Ø§Ø´Û•...", a:["S,Ø´ØªÛÚ©ÛŒ Ø¯Û•Ø³ØªÚ¯ÛŒØ±Ø§Ùˆ Ùˆ Ù‡Û•ÛŒÛ•ØªÛŒ","N,Ù‡Û†Ú©Ø§Ø±ÛŒ Ù†Ø§ÙˆØ®Û†ÛŒÛŒ Ùˆ Ù¾ÛØ´Ø¨ÛŒÙ†ÛŒ"] },
  { t:"Ù„Û• Ú©Ø§Ø±ÛŒ Ú•Û†Ú˜Ø§Ù†Û•...", a:["S,Ú•ÙˆØªÛŒÙ† Ùˆ Ù¾Ø±Û†Ø³Û•ÛŒ Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø§Ùˆ","N,ÙˆÛ•ÚµØ§Ù…ÛŒ Ù†ÙˆÛ Ùˆ Ú¯Û†Ú•Ø§Ù†"] },
  // T vs F (4)
  { t:"Ú©Ø§ØªÛÚ© Ø¨Ú•ÛŒØ§Ø± Ø¯Û•Ø¯Û•ÛŒØª...", a:["T,ÛŒØ§Ø³Ø§/Ú•Û•Ø´Ù†ÙˆØ³ÛŒ Ùˆ Ù„Û†Ø¬ÛŒÚ©","F,Ù‡Û•Ø³Øª Ùˆ Ú©Ø§Ø±Û•Ø³Ø§ØªÛŒ Ú©Û•Ø³Ø§Ù†"] },
  { t:"Ù„Û• Ø¯Û•Ø³ØªÛ•Ú©Û•ØªØ¯Ø§ Ú©ÛØ´Û• Ù‡Û•ÛŒÛ•...", a:["T,Ú©ÛØ´Û•Ú©Û• Ùˆ ÙØ§Ú©ØªÛ•Ú©Ø§Ù† Ù¾ÛØ´ÛÙ„ Ø¯Ù‡â€ŒÚ©Û•Ù…","F,Ù‡Û•Ø³ØªÛ•Ú©Ø§Ù†ÛŒ Ø®Û•ÚµÚ© Ù¾ÛØ´Ú•Û•ÙˆÛ• Ø¯Û•Ú¯Ø±Ù…"] },
  { t:"Ù¾ÛØª Ø®Û†Ø´Û• ÙÛŒØ¯Ø¨Ø§Ú©...", a:["T,Ú•Ø§Ø³ØªÙˆØ®Û† Ùˆ Ø¨Û•Ø±Ø¯Û•ÙˆØ§Ù…","F,Ù†Û•Ø±Ù… Ùˆ Ù‡Û•Ø³ØªÛŒØ§Ø±Ø§Ù†Û•"] },
  { t:"Ù„Û• Ú©Ø§ØªÛŒ Ù„ÛŒÚ˜Ù†Û•Ú©Ø±Ø¯Ù†...", a:["T,ÛŒØ§Ø±Ù…Û•ØªÛŒØ¯Ø§Ù†ÛŒ Ø³ÛŒØ³ØªÙ…Ø§ØªÛŒÚ©","F,Ù‡Ø§ÙˆÚ©Ø§Ø±ÛŒ Ùˆ Ù‡Û•Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ú©Û•Ø³Ø§Ù†"] },
  // J vs P (4)
  { t:"Ú•Û†Ú˜Ù†Ø§Ù…Û• Ùˆ Ù¾Ù„Ø§Ù†Øª...", a:["J,Ù¾ÛØ´â€ŒØ®Ø³ØªÙ† Ùˆ Ù¾Ú•Û†Ú¯Ø±Ø§Ù…","P,Ø¦Ø§Ø²Ø§Ø¯ Ùˆ Ø¨Û• ÙÚ•Û†Ú©Û•"] },
  { t:"Ú©Ø§ØªÛÚ© Ø¯ÛÚµØ§ÛŒÙ† Ù‡Û•ÛŒÛ•...", a:["J,Ø²ÙˆÙˆ Ø¯Û•ÛŒÚ©Û•Ù… Ù¾Ø§Ø´Ø§Ù† Ù¾Û†Ù„ÛØ´","P,Ù„Û• Ú©Û†ØªØ§ÛŒÛŒ Ú©Ø§Ø±Ø¯Û•Ú©Û•Ù… Ù„Û• Ù‡Û•Ù†Ú¯Ø§ÙˆÛÚ©ÛŒ Ø®ÛØ±Ø§"] },
  { t:"Ù„Û• Ú¯Û•Ø´Øª...", a:["J,Ù‡Û•Ù…ÙˆÙˆ Ø´Øª Ø¨Û• Ú•ÛÚ©â€ŒØ®Ø³ØªÙ†","P,Ú©Ø´Ù Ùˆ Ù‡Û•Ø³Øª Ø¨Û• Ø®ÙˆØ¯Ú•Ø§ÛŒÛŒ"] },
  { t:"Ú©Ø§ØªÛÚ© ÛŒØ§Ù†Û•ÛŒ Ù†ÙˆÛ ÙÛØ±Ø¯Û•Ø¨ÛŒØª...", a:["J,Ú©ØªÛØ¨/Ú•ÛØ¨Û•Ø±ÛŒ Ù¾ÛØ´Û•ÙˆÛ•","P,Ø¯Û•Ø³Øª Ù„Û• ÛŒØ§Ø±ÛŒ Ùˆ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•"] },
];

const TYPE_BLURB = {
  ISTJ:"Ú•ÛÚ©Ø®Ø³ØªÙˆÙˆØŒ Ù¾Û•ÛŒÙˆÛ•Ø³ØªÛ•ØŒ Ø¨Ø§ÙˆÛ•Ú•Ù¾ÛÚ©Ø±Ø§Ùˆ. Ø¨Ø§Ø´ Ù„Û• Ù¾Ù„Ø§Ù†Ø¯Ø§Ù†Ø§Ù† Ùˆ Ø¦Û•Ù†Ø¬Ø§Ù…Ø¯Ø§Ù†ÛŒ Ú©Ø§Ø±.",
  ISFJ:"Ù‡Ø§ÙˆÚ©Ø§Ø± Ùˆ Ú†Ø§ÙˆØ¯ÛØ±. Ù‡ÛÙˆØ§Ø´ Ø¨Û•ÚµØ§Ù… Ø¨Û• Ù¾Ø´ØªÚ¯ÙˆÛØ®Ø³ØªÙ† Ù†Ø§Ú†ÛØª Ø¨Û† Ø®ÛŒØ²Ø§Ù†/ØªÛŒÙ…ÛŒ Ø®Û†ÛŒ.",
  INFJ:"ÙˆÛÙ†Û•Ø¯Ø§Ø± Ùˆ Ù†ÛÙˆÛ•ÙˆÛ•Ø¨ÛŒÙ†. Ù‡Û•Ø³ØªÛŒØ§Ø± Ù„Û•Ú¯Û•Úµ Ù…Ø±Û†Ú¤ Ùˆ Ø¨ÛŒØ±Û†Ú©Û•ÛŒ Ø¯Ø±ÛÚ˜Ø®Ø§ÛŒÛ•Ù†.",
  INTJ:"Ù¾Ù„Ø§Ù†Ø¯Ø§Ù†Û•Ø±ÛŒ Ø²ÛÚ•ÛŒÙ†. Ø³ÛŒØ³ØªÛ•Ù…â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ø³ØªØ±Ø§ØªÛŒÚ˜ÛŒ Ù„Û•Ùˆ Ù‡Û•Ù…ÙˆÙˆÛ• Ú¯Ø±Ù†Ú¯ØªØ±Û•.",
  ISTP:"Ú†Ø§Ú©Ø³Ø§Ø²ÛŒØ§Ø±ÛŒ Ú†Ø§Ù„Ø§Ú©. Ú©Ø§Ø±ÛŒ Ø¯Û•Ø³ØªÛŒ + Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ø®ÛØ±Ø§ Ù„Û• Ú©ÛØ´Û•Ú©Ø§Ù†.",
  ISFP:"Ù‡ÙˆÙ†Û•Ø±Ù…Û•Ù†Ø¯ Ùˆ Ù‡Û•Ø³ØªÛŒØ§Ø±. Ù‡Û•ÚµØ³ÙˆÚ©Û•ÙˆØªÛŒ Ù‡Ø§ÙˆØ±ÛÛŒØ§Ù† Ùˆ Ú˜ÛŒØ§Ù†ÛÚ©ÛŒ Ø³Ø§Ø¯Û• Ø­Û•Ø²Ø¨Û•Ø®Û†.",
  INFP:"Ú•Û†Ù…Ø§Ù†ØªÛŒÚ© Ùˆ Ø¨Û•Ù‡ÛŒÙˆØ§ÛŒ. Ø¨Û• Ù‡Û•Ù„ÛŒØ§Ø±Û•ÛŒ Ù†ÛÙˆÛ•ÙˆÛ•ÛŒ Ø®Û†ÛŒØ§Ù† Ø¯Û•Ú˜ÛŒÙ†.",
  INTP:"ÙÛØ±Ø¨ÙˆÙˆÛŒ Ø³ÛŒØ³ØªÛ•Ù… Ùˆ ØªÛŒÛ†Ø±ÛŒ. ÙˆÛ•Ú© Ø¯ÛŒØ²Ø§ÛŒÙ†Û•Ø±ÛŒ Ø¦Ø§ÛŒØ¯ÛŒØ§Ú©Ø§Ù†.",
  ESTP:"Ø¦Ø§Ú©Ø´Ù†â€ŒØ®ÙˆØ§Ø² Ùˆ Ù¾Ú• Ø¦ÛÙ†Û•Ø±Ú˜ÛŒ. Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ø¯Û•Ø³ØªÛ•ÙˆÛ• Ùˆ Ú˜ÛŒØ§Ù† Ù„Û• Ø¦ÛØ³ØªØ§.",
  ESFP:"Ø³ØªØ§Ø±ÛŒ Ø¬ÛŒÙ‡Ø§Ù†! Ú©ÛØ´Û•Ú©Ø§Ù† Ø¨Û• Ø®Û•Ù†Ø¯Ù‡ Ùˆ Ú©Ø§Ø±ÛŒ Ú¯Ø´ØªÛŒ Ø¯Û•Ú©Ø§Øª.",
  ENFP:"Ù‡Û•ÚµØ³Û•Ù†Ú¯ÛØ±ÛŒ Ø®Û•ÛŒØ§ÚµÛŒ Ùˆ Ø¨Û•Ù‡ÛŒÙˆØ§ÛŒ. Ø¨Û•Ø±Ø²Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯ÚµØ®Û†Ø´ÛŒ Ùˆ Ù‡Ø§Ù†Ø¯Ø§Ù†ÛŒ ØªØ±Ø§Ù†.",
  ENTP:"Ø¯Û•Ø³ØªÚ©Ø§Ø±ÛŒØ±ÛŒ Ú•Û•Ø®Ù†Û• + Ù†ÙˆÛÚ©Ø§Ø±ÛŒ. Ù‡Û•Ù…ÛŒØ´Û• ÙÚ©Ø±ÛŒ Ù†ÙˆÛ Ù‡Û•ÛŒÛ•.",
  ESTJ:"Ø¨Û•Ø±ÛÙˆÛ•Ø¨Ø±Ø¯Ù†ÛŒ Ú©Ø§Ø±Ø§. Ú•ÛÚ©Ø®Ø³ØªÙ†ØŒ ÛŒØ§Ø³Ø§ØŒ Ø¦Û•Ù†Ø¬Ø§Ù…!",
  ESFJ:"Ú©Û†Ù…Û•ÚµØ§ÛŒÛ•ØªÛŒ Ùˆ Ø¯ÚµØ³Û†Ø². Ù‡Ø§ÙˆÚ©Ø§Ø±ÛŒ Ùˆ Ú•Ø§Ø²Ø§Ù†Ø¯Ù† Ù„Û• ØªÛŒÙ….",
  ENFJ:"Ú•ÛØ¨Û•Ø±ÛŒ Ù‡Û•Ø³ØªÛŒØ§Ø±. ØªÙˆØ§Ù†Ø§ÛŒ Ù‡Ø§Ù†Ø¯Ø§Ù†ÛŒ Ø®Û•ÚµÚ© Ø¨Û† Ù‡Û•Ø¯ÙÛŒ Ú¯Ø´ØªÛŒ.",
  ENTJ:"Ø±ÛÙ†ÛŒØ´Ø§Ù†Ø¯Û•Ø± Ùˆ Ø³ØªØ±Ø§ØªÛŒÚ˜ÛŒØ³Øª. ÙÛÚµÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¦Û•Ø±Ú© Ùˆ Ø¨ÛŒÙ†ÛŒÙ†ÛŒ Ú¯Û•ÙˆØ±Û•."
};

/* ======= BUILD UI ======= */
const form = document.getElementById("form");
const introBar = document.getElementById("prog");
const resultCard = document.getElementById("resultCard");
const scalesEl = document.getElementById("scalesconst badges = document.getElementById("typeBadges");
const typeCard = document.getElementById("typeCard");

function makeQuestion(idx, q){
  const idA = q${idx}_a, idB = q${idx}_b;
  const [a1,a2] = q.a.map(s=>s.split(","));
  return `
    <div class="q" role="group" aria-labelledby="h${idx}">
      <h3 id="h${idx}">${idx+1}. ${q.t}</h3>
      <div class="opts">
        <label class="opt" for="${idA}">
          <input id="${idA}" type="radio" name="q${idx}" value="${a1[0]}" required />
          <div><b>${a1[1]}</b><div class="muted">(${a1[0]})</div></div>
        </label>
        <label class="opt" for="${idB}">
          <input id="${idB}" type="radio" name="q${idx}" value="${a2[0]}" required />
          <div><b>${a2[1]}</b><div class="muted">(${a2[0]})</div></div>
        </label>
      </div>
    </div>
  `;
}

function renderQuestions(){
  const parts = QUESTIONS.map((q,i)=>makeQuestion(i,q));
  const footer = `
    <div class="footer">
      <button type="submit" class="primary">Ù†ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ Ø¦Û•Ù†Ø¬Ø§Ù…</button>
      <button type="button" class="ghost" id="save">Ù¾Ø§Ø´Û•Ú©Û•ÙˆØª Ù„Û• Ø¦Ø§Ù…ÛØ±Û•Ú©Û•Øª</button>
      <button type="button" class="danger" id="clear">Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ Ù‡Û•Ù…ÙˆÙˆ ÙˆÛ•ÚµØ§Ù…Û•Ú©Ø§Ù†</button>
    </div>
  `;
  form.innerHTML = parts.join("") + footer;
}
renderQuestions();

/* ======= STATE (with localStorage) ======= */
const KEY="mbti_quiz_v1";
function saveState(){
  const data = {};
  QUESTIONS.forEach((_,i)=>{
    const sel = form.querySelector(`input[name=q${i}]:checked`);
    if(sel) data[`q${i}`]=sel.value;
  });
  localStorage.setItem(KEY, JSON.stringify(data));
}
function loadState(){
  try{
    const data = JSON.parse(localStorage.getItem(KEY)||"{}");
    Object.entries(data).forEach(([k,v])=>{
      const inp = form.querySelector(`input[name=${k}][value="${v}"]`);
      if(inp) inp.checked = true;
    });
  }catch(e){}
}
function clearState(){
  localStorage.removeItem(KEY);
}
loadState();

/* ======= PROGRESS ======= */
function updateProgress(){
  const total = QUESTIONS.length;
  const answered = [...form.querySelectorAll("input:checked")].length;
  const pct = Math.round(100*answered/total);
  introBar.style.width = pct+"%";
}
form.addEventListener("change", ()=>{ saveState(); updateProgress(); });
updateProgress();

/* ======= SCORING ======= */
function score(){
  const dims = { E:0, I:0, S:0, N:0, T:0, F:0, J:0, P:0 };
  for(let i=0;i<QUESTIONS.length;i++){
    const sel = form.querySelector(`input[name=q${i}]:checked`);
    if(!sel) return null;
    dims[sel.value] = (dims[sel.value]||0)+1;
  }
  const EI = dims.E>=dims.I ? "E" : "I";
  const SN = dims.S>=dims.N ? "S" : "N";
  const TF = dims.T>=dims.F ? "T" : "F";
  const JP = dims.J>=dims.P ? "J" : "P";
  return { dims, code: EI+SN+TF+JP };
}

/* ======= RENDER RESULT ======= */
function barRow(labelL, labelR, leftCount, rightCount){
  const total = leftCount + rightCount;
  const leftPct = total? Math.round(100*leftCount/total) : 50;
  const rightPct = 100-leftPct;
  return `
    <div class="meter" aria-label="${labelL}/${labelR}">
      <b><span>${labelL} ${leftCount}</span><span>${labelR} ${rightCount}</span></b>
      <span style="width:${leftPct}%;"></span>
    </div>
    <div class="small" style="display:flex;justify-content:space-between;margin-top:-2px">
      <span>${labelL} ${leftPct}%</span><span>${labelR} ${rightPct}%</span>
    </div>
  `;
}

function showResult(){
  const res = score();
  if(!res){
    alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ù¡Ù¦ Ù¾Ø±Ø³ÛŒØ§Ø±Û•Ú©Ø§Ù† ÙˆÛ•ÚµØ§Ù… Ø¨Ø¯Û•.");
    return;
  }
  const {dims, code} = res;
  badges.innerHTML = `
    <span class="pill">${code}</span>
    <span class="pill">E:${dims.E} â€¢ I:${dims.I}</span>
    <span class="pill">S:${dims.S} â€¢ N:${dims.N}</span>
    <span class="pill">T:${dims.T} â€¢ F:${dims.F}</span>
    <span class="pill">J:${dims.J} â€¢ P:${dims.P}</span>
  `;
  scalesEl.innerHTML = `
    ${barRow("E","I",dims.E,dims.I)}
    ${barRow("S","N",dims.S,dims.N)}
    ${barRow("T","F",dims.T,dims.F)}
    ${barRow("J","P",dims.J,dims.P)}
  `;
  typeCard.innerHTML = `
    <h3 style="margin:0 0 6px">${code}</h3<p class="muted" style="margin:0 0 8px">${TYPE_BLURB[code]||"ÙˆÛ•Ø³ÙÛŒ Ú©Û†Ø±Øª Ù†ÛŒÛŒÛ• Ø¨Û† Ø¦Û•Ù… ØªØ§ÛŒÙ¾Û•."}</p>
    <details>
      <summary>Ú†Û†Ù† Ø¦Û•Ù… Ø¦Û•Ù†Ø¬Ø§Ù…Û• Ø¨Ø®ÙˆÛÙ†Ù…Û•ÙˆÛ•ØŸ</summary>
      <ul class="small">
        <li><b>E/I</b>: Ø¯Û•Ø±Û•ÙˆÛ•ÛŒÛŒ ÛŒØ§Ù† Ù†Ø§ÙˆØ®Û†ÛŒÛŒ.</li>
        <li><b>S/N</b>: ÙˆØ±Ø¯Û•Ú©Ø§Ø±ÛŒ/ÙØ§Ú©Øª ÛŒØ§Ù† ÙˆÛÙ†Û•ÛŒ Ú¯Ø´ØªÛŒ/Ù‡Û†Ú©Ø§Ø±.</li>
        <li><b>T/F</b>: Ù„Û†Ø¬ÛŒÚ© ÛŒØ§Ù† Ù‡Û•Ø³Øª.</li>
        <li><b>J/P</b>: Ù¾Ù„Ø§Ù†Ø¯Ø§Ù†Ø§Ù† ÛŒØ§Ù† Ø®ÙˆÛÙ†Ø¯Ù† Ø¨Û• ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•.</li>
      </ul>
    </details>
  `;
  resultCard.hidden = false;
  // smooth scroll
  resultCard.scrollIntoView({behavior:"smooth", block:"start"});
}

/* ======= EVENTS ======= */
form.addEventListener("submit", (e)=>{e.preventDefault(); showResult();});
form.addEventListener("click",(e)=>{
  if(e.target.id==="save"){ saveState(); alert("Ù¾Ø§Ø´Û•Ú©Û•ÙˆØª Ú©Ø±Ø§ Ù„Û• Ø¦Ø§Ù…ÛØ±Û•Ú©Û•Øª."); }
  if(e.target.id==="clear"){
    if(confirm("Ø¯ÚµÙ†ÛŒØ§ÛŒ Ù„Ù‡â€Œ Ø³Ú•ÛŒÙ†Ù‡â€ŒÙˆÙ‡â€ŒÛŒ Ù‡Ù‡â€ŒÙ…ÙˆÙˆ ÙˆÙ‡â€ŒÚµØ§Ù…Û•Ú©Ø§Ù†ØŸ")){
      form.reset(); clearState(); updateProgress();
    }
  }
});
document.getElementById("again").addEventListener("click", ()=> {
  window.scrollTo({top:0,behavior:"smooth"});
});
document.getElementById("reset").addEventListener("click", ()=>{
  if(confirm("Ù‡Û•Ù…ÙˆÙˆ Ø´Øª Ø¨Ø³Ú•Ø¯Ø±ÛØªÛ•ÙˆÛ• Ùˆ Ù„Û• Ø³Û•Ø±Û•ØªØ§ Ø¯Ø§Ø¨Ù†Ø±ÛØªÛ•ÙˆÛ•ØŸ")){
    form.reset(); clearState(); updateProgress(); resultCard.hidden = true;
    window.scrollTo({top:0,behavior:"smooth"});
  }
});
document.getElementById("btnShare").addEventListener("click", async ()=>{
  try{
    const url = location.href;
    const text = "ØªÛØ³ØªÛŒ Ø®ÛØ±Ø§ÛŒ MBTI â€” Ù¡Ù¦ Ù¾Ø±Ø³";
    if(navigator.share){ await navigator.share({title:document.title, text, url}); }
    else{
      await navigator.clipboard.writeText(url);
      alert("Ù„ÛŒÙ†Ú©ÛŒ Ù¾Û•Ú•Û•Ú©Û• Ú©Û†Ù¾ÛŒ Ú©Ø±Ø§.");
    }
  }catch(e){}
});
</script>
</body>
</html>